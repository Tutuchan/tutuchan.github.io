<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom"><generator uri="http://jekyllrb.com" version="3.0.5">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2016-05-31T19:30:38+02:00</updated><id>/</id><title>A gameR perspective</title><subtitle>A blog about R, video games and stuff.</subtitle><author><name>Pierre Formont</name><email>pierre.formont@gmail.com</email></author><entry><title>Introducing fodr: a package for French open data in R</title><link href="/r/fodr/" rel="alternate" type="text/html" title="Introducing fodr: a package for French open data in R" /><published>2016-05-30T18:49:30+02:00</published><updated>2016-05-30T18:49:30+02:00</updated><id>/r/fodr</id><content type="html" xml:base="/r/fodr/">&lt;aside class=&quot;sidebar__right&quot;&gt;
&lt;nav class=&quot;toc&quot;&gt;
    &lt;header&gt;&lt;h4 class=&quot;nav__title&quot;&gt;&lt;i class=&quot;fa fa-file-text&quot;&gt;&lt;/i&gt; Table of contents&lt;/h4&gt;&lt;/header&gt;
&lt;ul class=&quot;toc__menu&quot; id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#the-package&quot; id=&quot;markdown-toc-the-package&quot;&gt;The package&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#getting-the-package&quot; id=&quot;markdown-toc-getting-the-package&quot;&gt;Getting the package&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#available-portals&quot; id=&quot;markdown-toc-available-portals&quot;&gt;Available portals&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#structure&quot; id=&quot;markdown-toc-structure&quot;&gt;Structure&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#portals&quot; id=&quot;markdown-toc-portals&quot;&gt;Portals&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#instantiation&quot; id=&quot;markdown-toc-instantiation&quot;&gt;Instantiation&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#fetching-data---the-search-method&quot; id=&quot;markdown-toc-fetching-data---the-search-method&quot;&gt;Fetching data - the search method&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#datasets&quot; id=&quot;markdown-toc-datasets&quot;&gt;Datasets&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#instantiation-1&quot; id=&quot;markdown-toc-instantiation-1&quot;&gt;Instantiation&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#fetching-data&quot; id=&quot;markdown-toc-fetching-data&quot;&gt;Fetching data&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#the-getrecords-method&quot; id=&quot;markdown-toc-the-getrecords-method&quot;&gt;The get_records method&lt;/a&gt;            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;#refine-and-exclude&quot; id=&quot;markdown-toc-refine-and-exclude&quot;&gt;refine and exclude&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#sort&quot; id=&quot;markdown-toc-sort&quot;&gt;sort&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#q&quot; id=&quot;markdown-toc-q&quot;&gt;q&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#geofilterdistance-and-geofilterpolygon&quot; id=&quot;markdown-toc-geofilterdistance-and-geofilterpolygon&quot;&gt;geofilter.distance and geofilter.polygon&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#use-in-leaflet&quot; id=&quot;markdown-toc-use-in-leaflet&quot;&gt;Use in leaflet&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#future-work&quot; id=&quot;markdown-toc-future-work&quot;&gt;Future work&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

  &lt;/nav&gt;
&lt;/aside&gt;

&lt;blockquote&gt;
  &lt;p&gt;Open data is the idea that some data should be freely available to everyone to use and republish as they wish, without restrictions from copyright, patents or other mechanisms of control.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;http://link.springer.com/chapter/10.1007%2F978-3-540-76298-0_52&quot;&gt;Source&lt;/a&gt; from &lt;a href=&quot;https://en.wikipedia.org/wiki/Open_data&quot;&gt;Wikipedia&lt;/a&gt;. Post image from &lt;a href=&quot;http://www.rudebaguette.com/&quot;&gt;Rude Baguette&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Nowadays, more and more government organisations subscribe to the open data movement and some have done so in France, in the hope that new services or insights would come from the analysis of this data. To name a few :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.data.gouv.fr/en/&quot;&gt;the French government&lt;/a&gt;,&lt;/li&gt;
  &lt;li&gt;the city of &lt;a href=&quot;http://opendata.paris.fr/&quot;&gt;Paris&lt;/a&gt;,&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://data.erdf.fr/page/accueil/&quot;&gt;ERDF&lt;/a&gt;, the French electricity distribution company,&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://data.sncf.com/&quot;&gt;SNCF&lt;/a&gt;, the French railroad company&lt;/li&gt;
  &lt;li&gt;etc&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&quot;https://www.opendatasoft.com/a-comprehensive-list-of-all-open-data-portals-around-the-world/&quot;&gt;Recently&lt;/a&gt;, due to the ever-increasing number of open data portals, the &lt;a href=&quot;http://opendatainception.io/&quot;&gt;Open Data Inception&lt;/a&gt; portal was created by the &lt;a href=&quot;https://www.opendatasoft.com/&quot;&gt;OpenDataSoft&lt;/a&gt; company. The aim of this portal is to provide a comprehensive list of open data portals around the world.&lt;/p&gt;

&lt;p&gt;As it happens, many of the French open data portals are available through the OpenDataSoft &lt;a href=&quot;https://www.opendatasoft.com/open-data-solutions/&quot;&gt;Open Data platform&lt;/a&gt; and thus share a common API.&lt;/p&gt;

&lt;p&gt;Some of the datasets on these portals have caught my eyes recently and I downloaded a few of them to tinker with them on my spare time but I quickly realised that, even though the API is well designed, the process is a bit cumbersome if you want to use any data in R as you have to go on a specific portal, find the dataset you’re looking for, download it to some place on your disk and then go back to R and import it.&lt;/p&gt;

&lt;p&gt;I thought by someone would have created a package to simplify this but I was mistaken. Thus, &lt;code class=&quot;highlighter-rouge&quot;&gt;fodr&lt;/code&gt; was born.&lt;/p&gt;

&lt;h2 id=&quot;the-package&quot;&gt;The package&lt;/h2&gt;

&lt;h3 id=&quot;getting-the-package&quot;&gt;Getting the package&lt;/h3&gt;

&lt;p&gt;The package is hosted on &lt;a href=&quot;https://github.com/Tutuchan/fodr&quot;&gt;Github&lt;/a&gt; and can be installed &lt;em&gt;via&lt;/em&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;devtools&lt;/code&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;tutuchan/fodr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;available-portals&quot;&gt;Available portals&lt;/h3&gt;

&lt;p&gt;The list of currently available portals can be accessed with the &lt;code class=&quot;highlighter-rouge&quot;&gt;list_portals()&lt;/code&gt; function:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fodr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dplyr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;leaflet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;list_portals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;portals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;base_urls&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Source: local data frame [13 x 2]
## 
##        portals                                     base_urls
##          &amp;lt;chr&amp;gt;                                         &amp;lt;chr&amp;gt;
## 1         ratp                           http://data.ratp.fr
## 2  iledefrance                    http://data.iledefrance.fr
## 3   infogreffe                      http://datainfogreffe.fr
## 4     toulouse            https://data.toulouse-metropole.fr
## 5         star                  https://data.explore.star.fr
## 6         issy                          http://data.issy.com
## 7         stif                     http://opendata.stif.info
## 8        paris                      http://opendata.paris.fr
## 9           04            http://tourisme04.opendatasoft.com
## 10          62            http://tourisme62.opendatasoft.com
## 11          92            https://opendata.hauts-de-seine.fr
## 12       enesr http://data.enseignementsup-recherche.gouv.fr
## 13        erdf                          https://data.erdf.fr&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;At the time of writing only 13 portals are available through &lt;code class=&quot;highlighter-rouge&quot;&gt;fodr&lt;/code&gt; for several reasons :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;fodr&lt;/code&gt; only handles the OpenDataSoft API and many of the French open data portals use the &lt;a href=&quot;http://www.esri.com/software/arcgis/arcgisonline/arcgis-open-data&quot;&gt;ArcGIS Open platform&lt;/a&gt;,&lt;/li&gt;
  &lt;li&gt;some do not have an API, like the &lt;del&gt;&lt;a href=&quot;https://www.data.gouv.fr/en/&quot;&gt;data.gouv&lt;/a&gt; or&lt;/del&gt; &lt;a href=&quot;http://data.grandlyon.com/&quot;&gt;Grand Lyon&lt;/a&gt; website,&lt;/li&gt;
  &lt;li&gt;some use the &lt;a href=&quot;http://www.navitia.io/&quot;&gt;navitia.io&lt;/a&gt; API, like the &lt;a href=&quot;https://data.sncf.com/&quot;&gt;SNCF&lt;/a&gt; website,&lt;/li&gt;
  &lt;li&gt;some simply do not have data&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;em&gt;Note from 2016/05/31 19:24: &lt;a href=&quot;https://twitter.com/joelgombin&quot;&gt;Joel Gombin&lt;/a&gt; graciously pointed out to me that the &lt;a href=&quot;https://www.data.gouv.fr/en/&quot;&gt;data.gouv&lt;/a&gt; DOES have an API (&lt;a href=&quot;https://www.data.gouv.fr/en/apidoc/&quot;&gt;available here&lt;/a&gt;).&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;To obtain this list, I looked at the Open Data Inception dataset and tried to access a method on the API to see if it returned any results and curated the remaining datasets but I’m pretty sure there is a better way to do it:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jsonlite&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;curl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;number_of_datasets&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;fromJSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://public.opendatasoft.com/api/records/1.0/search/?dataset=open-data-sources&amp;amp;facet=country&amp;amp;refine.country=France&amp;amp;nrows=1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nhits&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;listDatasets&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;fromJSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;paste0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://public.opendatasoft.com/api/records/1.0/search/?dataset=open-data-sources&amp;amp;facet=country&amp;amp;refine.country=France&amp;amp;rows=&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number_of_datasets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;number_of_datasets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Arcgis&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;listDatasets&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;records&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;listDatasets&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;records&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;fetch_data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;purrr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;safely&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;nhits&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fromJSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;paste0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/api/datasets/1.0/search/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fetch_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dplyr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data_frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;listDatasets&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;records&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NULL&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dplyr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bind_rows&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;structure&quot;&gt;Structure&lt;/h3&gt;

&lt;p&gt;I created two classes using the &lt;a href=&quot;https://github.com/wch/R6&quot;&gt;R6&lt;/a&gt; package: &lt;strong&gt;FODRPortal&lt;/strong&gt; and &lt;strong&gt;FODRDataset&lt;/strong&gt;. I also created two wrappers around these classes to skip the &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;class&amp;gt;$new(...)&lt;/code&gt; syntax that I’m not a fan of:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Instantiate a FODRPortal
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fodr_portal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;portal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Instantiate a FODRDataset
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fodr_dataset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;portal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;portals&quot;&gt;Portals&lt;/h2&gt;

&lt;h3 id=&quot;instantiation&quot;&gt;Instantiation&lt;/h3&gt;

&lt;p&gt;Access to a portal is granted through the &lt;code class=&quot;highlighter-rouge&quot;&gt;fodr_portal&lt;/code&gt; function:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;portal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fodr_portal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;paris&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;portal&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## FODRPortal object
## --------------------------------------------------------------------
## Portal: paris 
## Number of datasets: 175 
## Themes:
##   - Administration
##   - Citoyens
##   - Commerces
##   - Culture
##   - Déplacements
##   - Environnement
##   - Finances
##   - Services
##   - Urbanisme 
## --------------------------------------------------------------------&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;print&lt;/code&gt; method has been overloaded to show useful information about the portal. Here, it shows that this portal has 175 datasets divided among several themes.&lt;/p&gt;

&lt;h3 id=&quot;fetching-data---the-search-method&quot;&gt;Fetching data - the search method&lt;/h3&gt;

&lt;p&gt;For a &lt;code class=&quot;highlighter-rouge&quot;&gt;FODRPortal&lt;/code&gt;, there is only one method: &lt;code class=&quot;highlighter-rouge&quot;&gt;search&lt;/code&gt;. It leverages the &lt;strong&gt;OpenDataSoft&lt;/strong&gt; &lt;a href=&quot;https://docs.opendatasoft.com/en/api/catalog_api.html&quot;&gt;Catalog API&lt;/a&gt; in order to find relevant datasets. By default, calling the &lt;code class=&quot;highlighter-rouge&quot;&gt;search&lt;/code&gt; method will retrieve &lt;strong&gt;all&lt;/strong&gt; elements that satisfy the query, contrary to the &lt;strong&gt;OpenDataSoft&lt;/strong&gt; API that only retrieves 10.&lt;/p&gt;

&lt;p&gt;There are several arguments to this function that are detailed in the &lt;strong&gt;OpenDataSoft&lt;/strong&gt; documentation. I also added another argument, &lt;em&gt;theme&lt;/em&gt;, that allows to return all datasets that fall under a specific theme.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;list_datasets&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;portal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theme&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Culture&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## 24 datasets found ...&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Datasets obtained by this method are directly returned as a list but also stored in the &lt;code class=&quot;highlighter-rouge&quot;&gt;data&lt;/code&gt; field of the &lt;code class=&quot;highlighter-rouge&quot;&gt;portal&lt;/code&gt; object:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;list_datasets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## FODRDataset object
## --------------------------------------------------------------------
## Dataset id: postes-publics-des-bibliotheques-de-pret 
## Theme: Culture 
## Keywords: postes publics, ordinateurs, catalogues en ligne, bibliothèques, prêt 
## Publisher: Service Informatique des Bibliothèques 
## --------------------------------------------------------------------
## Number of records: 230 
## Number of files: 0 
## Modified: 2014-07-30 
## Facets: etablissement, type_de_poste_public 
## Sortables: nombre_d_ordinateurs 
## --------------------------------------------------------------------&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;datasets&quot;&gt;Datasets&lt;/h2&gt;

&lt;h3 id=&quot;instantiation-1&quot;&gt;Instantiation&lt;/h3&gt;

&lt;p&gt;As shown just before, datasets can be retrieved either from a call to &lt;code class=&quot;highlighter-rouge&quot;&gt;portal$search&lt;/code&gt; or, if you know the portal and id, by a call to &lt;code class=&quot;highlighter-rouge&quot;&gt;fodr_dataset&lt;/code&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;dts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fodr_dataset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;portal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;paris&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list_datasets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dts&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## FODRDataset object
## --------------------------------------------------------------------
## Dataset id: postes-publics-des-bibliotheques-de-pret 
## Theme: Culture 
## Keywords: postes publics, ordinateurs, catalogues en ligne, bibliothèques, prêt 
## Publisher: Service Informatique des Bibliothèques 
## --------------------------------------------------------------------
## Number of records: 230 
## Number of files: 0 
## Modified: 2014-07-30 
## Facets: etablissement, type_de_poste_public 
## Sortables: nombre_d_ordinateurs 
## --------------------------------------------------------------------&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Then again, the &lt;code class=&quot;highlighter-rouge&quot;&gt;print&lt;/code&gt; method has been overloaded to show useful information about the dataset:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;number of records,&lt;/li&gt;
  &lt;li&gt;number of files,&lt;/li&gt;
  &lt;li&gt;keywords,&lt;/li&gt;
  &lt;li&gt;facets: columns you can filter on,&lt;/li&gt;
  &lt;li&gt;sortables: columns you can sort on&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;fetching-data&quot;&gt;Fetching data&lt;/h3&gt;

&lt;p&gt;There are two methods to fetch data from a dataset: &lt;code class=&quot;highlighter-rouge&quot;&gt;get_records&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;get_attachments&lt;/code&gt;.&lt;/p&gt;

&lt;h4 id=&quot;the-getrecords-method&quot;&gt;The get_records method&lt;/h4&gt;

&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;get_records&lt;/code&gt; method leverages the &lt;a href=&quot;https://docs.opendatasoft.com/en/api/records_api.html#records-download-api&quot;&gt;Records download API&lt;/a&gt; and again fetches all available records instead of the first 10.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;dfRecords&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dts&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_records&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dfRecords&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Source: local data frame [230 x 4]
## 
##       type_de_poste_public nombre_d_ordinateurs   etablissement
##                      &amp;lt;chr&amp;gt;                &amp;lt;int&amp;gt;           &amp;lt;chr&amp;gt;
## 1                Catalogue                    3    Aimé Césaire
## 2                Catalogue                    2          Amélie
## 3  Poste de passage adulte                    2          Amélie
## 4           Poste jeunesse                    2          Amélie
## 5           Poste jeunesse                    3   Andrée Chedid
## 6             Poste adulte                    3     Batignolles
## 7  Poste de passage adulte                    3          Buffon
## 8                Catalogue                    2 Charlotte Delbo
## 9                Catalogue                    8 Robert Sabatier
## 10            Poste adulte                    8 Robert Sabatier
## ..                     ...                  ...             ...
## Variables not shown: geom_x_y &amp;lt;list&amp;gt;.&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h5 id=&quot;refine-and-exclude&quot;&gt;refine and exclude&lt;/h5&gt;

&lt;p&gt;The &lt;em&gt;refine&lt;/em&gt; and &lt;em&gt;exclude&lt;/em&gt; arguments are used to filter results on facets:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;dts&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_records&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;refine&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;etablissement&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Amélie&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Source: local data frame [5 x 4]
## 
##        type_de_poste_public nombre_d_ordinateurs etablissement
##                       &amp;lt;chr&amp;gt;                &amp;lt;int&amp;gt;         &amp;lt;chr&amp;gt;
## 1                 Catalogue                    2        Amélie
## 2   Poste de passage adulte                    2        Amélie
## 3            Poste jeunesse                    2        Amélie
## 4              Poste adulte                    3        Amélie
## 5 Poste de passage jeunesse                    1        Amélie
## Variables not shown: geom_x_y &amp;lt;list&amp;gt;.&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;dts&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_records&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exclude&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;etablissement&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Amélie&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Source: local data frame [225 x 4]
## 
##       type_de_poste_public nombre_d_ordinateurs   etablissement
##                      &amp;lt;chr&amp;gt;                &amp;lt;int&amp;gt;           &amp;lt;chr&amp;gt;
## 1                Catalogue                    3    Aimé Césaire
## 2           Poste jeunesse                    3   Andrée Chedid
## 3             Poste adulte                    3     Batignolles
## 4  Poste de passage adulte                    3          Buffon
## 5                Catalogue                    2 Charlotte Delbo
## 6                Catalogue                    8 Robert Sabatier
## 7             Poste adulte                    8 Robert Sabatier
## 8           Poste jeunesse                    2         Diderot
## 9  Poste de passage adulte                    1          Crimée
## 10               Catalogue                    1          Drouot
## ..                     ...                  ...             ...
## Variables not shown: geom_x_y &amp;lt;list&amp;gt;.&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h5 id=&quot;sort&quot;&gt;sort&lt;/h5&gt;

&lt;p&gt;The &lt;em&gt;sort&lt;/em&gt; argument is used to sort results on sortables:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;dts&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_records&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sort&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;nombre_d_ordinateurs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Source: local data frame [230 x 4]
## 
##    type_de_poste_public nombre_d_ordinateurs         etablissement
##                   &amp;lt;chr&amp;gt;                &amp;lt;int&amp;gt;                 &amp;lt;chr&amp;gt;
## 1          Poste adulte                   36      Marguerite Duras
## 2          Poste adulte                   14  Marguerite Yourcenar
## 3             Catalogue                   13  Marguerite Yourcenar
## 4          Poste adulte                   13         André Malraux
## 5          Poste adulte                   12 Jacqueline de Romilly
## 6          Poste adulte                   12          Vaclav Havel
## 7          Poste adulte                   12           Hélène Berr
## 8          Poste adulte                   12        Edmond Rostand
## 9          Poste adulte                   11         Andrée Chedid
## 10         Poste adulte                   11                Buffon
## ..                  ...                  ...                   ...
## Variables not shown: geom_x_y &amp;lt;list&amp;gt;.&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;dts&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_records&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sort&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;-nombre_d_ordinateurs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Source: local data frame [230 x 4]
## 
##         type_de_poste_public nombre_d_ordinateurs    etablissement
##                        &amp;lt;chr&amp;gt;                &amp;lt;int&amp;gt;            &amp;lt;chr&amp;gt;
## 1    Poste de passage adulte                    1           Crimée
## 2                  Catalogue                    1           Drouot
## 3                  Catalogue                    1           Europe
## 4  Poste de passage jeunesse                    1      Hélène Berr
## 5             Poste jeunesse                    1           Lancry
## 6    Poste de passage adulte                    1  L&#39;Heure Joyeuse
## 7                  Catalogue                    1 Maurice Genevoix
## 8    Poste de passage adulte                    1 Maurice Genevoix
## 9    Poste de passage adulte                    1              MMP
## 10                 Catalogue                    1          Mortier
## ..                       ...                  ...              ...
## Variables not shown: geom_x_y &amp;lt;list&amp;gt;.&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h5 id=&quot;q&quot;&gt;q&lt;/h5&gt;

&lt;p&gt;The &lt;em&gt;q&lt;/em&gt; argument is used to perform full-text search:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;dts&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_records&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;GENEVOIX&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Source: local data frame [4 x 4]
## 
##      type_de_poste_public nombre_d_ordinateurs    etablissement
##                     &amp;lt;chr&amp;gt;                &amp;lt;int&amp;gt;            &amp;lt;chr&amp;gt;
## 1            Poste adulte                    1 Maurice Genevoix
## 2          Poste jeunesse                    3 Maurice Genevoix
## 3               Catalogue                    1 Maurice Genevoix
## 4 Poste de passage adulte                    1 Maurice Genevoix
## Variables not shown: geom_x_y &amp;lt;list&amp;gt;.&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h5 id=&quot;geofilterdistance-and-geofilterpolygon&quot;&gt;geofilter.distance and geofilter.polygon&lt;/h5&gt;

&lt;p&gt;These are used to filter results based on their location:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;em&gt;geofilter.distance&lt;/em&gt; takes a numeric vector of three elemnts: longitude and latitude of the center of a circle and radius of the circle (in meters)&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;geofilter.polygon&lt;/em&gt; takes a data.frame of two columns named &lt;em&gt;lat&lt;/em&gt; and &lt;em&gt;lon&lt;/em&gt; which bounds the area where results are allowed to be&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;dfFilterDistance&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dts&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_records&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;geofilter.distance&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;48.8580602&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2.3089956&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dfFilterDistance&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Source: local data frame [10 x 5]
## 
##         type_de_poste_public nombre_d_ordinateurs etablissement  dist
##                        &amp;lt;chr&amp;gt;                &amp;lt;int&amp;gt;         &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;
## 1                  Catalogue                    2        Amélie     0
## 2    Poste de passage adulte                    2        Amélie     0
## 3             Poste jeunesse                    2        Amélie     0
## 4               Poste adulte                    3        Amélie     0
## 5  Poste de passage jeunesse                    1        Amélie     0
## 6    Poste de passage adulte                    1   Saint Simon   817
## 7               Poste adulte                    3   Saint Simon   817
## 8             Poste jeunesse                    2   Saint Simon   817
## 9                  Catalogue                    4   Saint Simon   817
## 10 Poste de passage jeunesse                    1   Saint Simon   817
## Variables not shown: geom_x_y &amp;lt;list&amp;gt;.&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;geofilter.polygon&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;48.883086&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;48.979022&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;48.883651&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                               &lt;span class=&quot;n&quot;&gt;lon&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.379072&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2.379930&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2.386968&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dfFilterPolygon&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dts&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_records&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;geofilter.polygon&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geofilter.polygon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dfFilterPolygon&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Source: local data frame [4 x 4]
## 
##      type_de_poste_public nombre_d_ordinateurs etablissement
##                     &amp;lt;chr&amp;gt;                &amp;lt;int&amp;gt;         &amp;lt;chr&amp;gt;
## 1 Poste de passage adulte                    1        Crimée
## 2          Poste jeunesse                    4        Crimée
## 3               Catalogue                    1        Crimée
## 4            Poste adulte                    1        Crimée
## Variables not shown: geom_x_y &amp;lt;list&amp;gt;.&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;use-in-leaflet&quot;&gt;Use in leaflet&lt;/h2&gt;

&lt;p&gt;If a dataset has geographical information, it will be either in the &lt;em&gt;geom_x_y&lt;/em&gt; or in the &lt;em&gt;geom&lt;/em&gt; column of the &lt;em&gt;data&lt;/em&gt; field. Here is an example of how to use the &lt;em&gt;geom_x_y&lt;/em&gt; field in a &lt;a href=&quot;https://github.com/rstudio/leaflet&quot;&gt;leaflet&lt;/a&gt; map.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;positions&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dfRecords&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;geom_x_y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;purrr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;transpose&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unlist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;as.data.frame&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;positions&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;etablissement&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dfRecords&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;etablissement&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;positions&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;positions&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;distinct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;.keep_all&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;rename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lng&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;leaflet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;positions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;900px&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;addProviderTiles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;CartoDB.Positron&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;addMarkers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;clusterOptions&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;markerClusterOptions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;popup&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;etablissement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;!--html_preserve--&gt;
&lt;div id=&quot;htmlwidget-1936&quot; style=&quot;width:900px;height:504px;&quot; class=&quot;leaflet html-widget&quot;&gt;&lt;/div&gt;
&lt;script type=&quot;application/json&quot; data-for=&quot;htmlwidget-1936&quot;&gt;{&quot;x&quot;:{&quot;calls&quot;:[{&quot;method&quot;:&quot;addProviderTiles&quot;,&quot;args&quot;:[&quot;CartoDB.Positron&quot;,null,null,{&quot;errorTileUrl&quot;:&quot;&quot;,&quot;noWrap&quot;:false,&quot;zIndex&quot;:null,&quot;unloadInvisibleTiles&quot;:null,&quot;updateWhenIdle&quot;:null,&quot;detectRetina&quot;:false,&quot;reuseTiles&quot;:false}]},{&quot;method&quot;:&quot;addMarkers&quot;,&quot;args&quot;:[[48.8320357,48.8580602,48.849937,48.8844441,48.8419904,48.8665015,48.8905832,48.8459745,48.8848913,48.8733839,48.8883086,48.8775273072746,48.8772091,48.8618192,48.8311087,48.8841895,48.8425318,48.8993441,48.8268092,48.8719649,48.8521289,48.859817,48.894909,48.86306045,48.8715798,48.8719634,48.8793551,48.8659605,48.8455293,48.8568598,48.8779745,48.8386225,48.8478671,48.8561772,48.8873166,48.8811111,48.8718064,48.8515962,48.8762706,48.8402996,48.8531576,48.8600425,48.8367728,48.8424926,48.8591443,48.8890032,48.8417004,48.8897366,48.8350219,48.8308705,48.8415767,48.8392527,48.8717915,48.8778252,48.8848773,48.863631],[2.310555,2.3089956,2.2864279,2.3219036,2.3591175,2.3404242,2.3441532,2.3777229,2.3830431,2.3404653,2.3027261,2.31749791213483,2.3708098,2.2847432,2.3442413,2.3541593,2.3974589,2.3361773,2.3663928,2.3626033,2.3452233,2.4032053,2.3637139,2.34573014114648,2.408439,2.3998434,2.3975049,2.3928351,2.3871246,2.3200325,2.3450099,2.3218739,2.3275429,2.3556453,2.3724595,2.3323039,2.3893099,2.3839448,2.3881083,2.278541,2.4010184,2.3412674,2.3036789,2.3496874,2.3794671,2.362957,2.2993589,2.3197217,2.3268861,2.3569681,2.2657172,2.3383332,2.357372,2.3029806,2.3674171,2.3600893],null,null,null,{&quot;clickable&quot;:true,&quot;draggable&quot;:false,&quot;keyboard&quot;:true,&quot;title&quot;:&quot;&quot;,&quot;alt&quot;:&quot;&quot;,&quot;zIndexOffset&quot;:0,&quot;opacity&quot;:1,&quot;riseOnHover&quot;:false,&quot;riseOffset&quot;:250},[&quot;Aimé Césaire&quot;,&quot;Amélie&quot;,&quot;Andrée Chedid&quot;,&quot;Batignolles&quot;,&quot;Buffon&quot;,&quot;Charlotte Delbo&quot;,&quot;Robert Sabatier&quot;,&quot;Diderot&quot;,&quot;Crimée&quot;,&quot;Drouot&quot;,&quot;Edmond Rostand&quot;,&quot;Europe&quot;,&quot;François Villon&quot;,&quot;Germaine Tillion&quot;,&quot;Glacière&quot;,&quot;Goutte d&#39;or&quot;,&quot;Hélène Berr&quot;,&quot;Jacqueline de Romilly&quot;,&quot;Jean-Pierre Melville&quot;,&quot;Lancry&quot;,&quot;L&#39;Heure Joyeuse&quot;,&quot;Marguerite Duras&quot;,&quot;Maurice Genevoix&quot;,&quot;MMP&quot;,&quot;Mortier&quot;,&quot;Oscar Wilde&quot;,&quot;Place des fêtes&quot;,&quot;Sorbier&quot;,&quot;Saint Eloi&quot;,&quot;Saint Simon&quot;,&quot;Valeyre&quot;,&quot;Vandamme&quot;,&quot;André Malraux&quot;,&quot;Arthur Rimbaud&quot;,&quot;Benjamin Rabier&quot;,&quot;Chaptal&quot;,&quot;Couronnes&quot;,&quot;Faidherbe&quot;,&quot;Fessart&quot;,&quot;Gutenberg&quot;,&quot;Louise Michel&quot;,&quot;Louvre&quot;,&quot;Marguerite Yourcenar&quot;,&quot;Mohammed Arkoun&quot;,&quot;Parmentier&quot;,&quot;Vaclav Havel&quot;,&quot;Vaugirard&quot;,&quot;Colette Vivier&quot;,&quot;Georges Brassens&quot;,&quot;Italie&quot;,&quot;Musset&quot;,&quot;Rainer Maria Rilke&quot;,&quot;Château d&#39;eau&quot;,&quot;Courcelles&quot;,&quot;Hergé&quot;,&quot;Marguerite Audoux&quot;],{&quot;showCoverageOnHover&quot;:true,&quot;zoomToBoundsOnClick&quot;:true,&quot;spiderfyOnMaxZoom&quot;:true,&quot;removeOutsideVisibleBounds&quot;:true},null,null,null]}],&quot;limits&quot;:{&quot;lat&quot;:[48.8268092,48.8993441],&quot;lng&quot;:[2.2657172,2.408439]}},&quot;evals&quot;:[],&quot;jsHooks&quot;:[]}&lt;/script&gt;
&lt;!--/html_preserve--&gt;

&lt;h2 id=&quot;future-work&quot;&gt;Future work&lt;/h2&gt;

&lt;p&gt;I plan on improving the package in order to access other types of portals. Let me know if you have any suggestions or if you encounter any problems through the package &lt;a href=&quot;https://github.com/Tutuchan/fodr&quot;&gt;Github page&lt;/a&gt;.&lt;/p&gt;</content><author><name>Pierre Formont</name><email>pierre.formont@gmail.com</email></author><category term="opendata" /><summary>Nowadays, more and more government organisations subscribe to the open data movement and some have done so in France, in the hopes that new services or insights would come from the analysis of this data.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="../images/r/2016-05-30-fodr/post_img.jpg" /></entry><entry><title>A quick look at win rates in premade groups in League of Legends</title><link href="/r/premades-lol/" rel="alternate" type="text/html" title="A quick look at win rates in premade groups in League of Legends" /><published>2016-05-21T15:08:10+02:00</published><updated>2016-05-21T15:08:10+02:00</updated><id>/r/premades-lol</id><content type="html" xml:base="/r/premades-lol/">&lt;aside class=&quot;sidebar__right&quot;&gt;
&lt;nav class=&quot;toc&quot;&gt;
    &lt;header&gt;&lt;h4 class=&quot;nav__title&quot;&gt;&lt;i class=&quot;fa fa-file-text&quot;&gt;&lt;/i&gt; Table of contents&lt;/h4&gt;&lt;/header&gt;
&lt;ul class=&quot;toc__menu&quot; id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#mobas-a-brief-explanation&quot; id=&quot;markdown-toc-mobas-a-brief-explanation&quot;&gt;MOBAs, a brief explanation&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#origin&quot; id=&quot;markdown-toc-origin&quot;&gt;Origin&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#the-map&quot; id=&quot;markdown-toc-the-map&quot;&gt;The map&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#gameplay&quot; id=&quot;markdown-toc-gameplay&quot;&gt;Gameplay&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ranked-play&quot; id=&quot;markdown-toc-ranked-play&quot;&gt;Ranked play&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#context&quot; id=&quot;markdown-toc-context&quot;&gt;Context&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#rank-distribution&quot; id=&quot;markdown-toc-rank-distribution&quot;&gt;Rank distribution&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#dynamic-queue&quot; id=&quot;markdown-toc-dynamic-queue&quot;&gt;Dynamic queue&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#impact-on-regular-players&quot; id=&quot;markdown-toc-impact-on-regular-players&quot;&gt;Impact on regular players&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#lolapi-package&quot; id=&quot;markdown-toc-lolapi-package&quot;&gt;lolapi package&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#fetching-the-data&quot; id=&quot;markdown-toc-fetching-the-data&quot;&gt;Fetching the data&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#curated-data&quot; id=&quot;markdown-toc-curated-data&quot;&gt;Curated data&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#identifying-premades&quot; id=&quot;markdown-toc-identifying-premades&quot;&gt;Identifying premades&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#distribution-of-the-number-of-premades&quot; id=&quot;markdown-toc-distribution-of-the-number-of-premades&quot;&gt;Distribution of the number of premades&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#win-percentage-with-premades&quot; id=&quot;markdown-toc-win-percentage-with-premades&quot;&gt;Win percentage with premades&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#role-repartition-and-win-rate&quot; id=&quot;markdown-toc-role-repartition-and-win-rate&quot;&gt;Role repartition and win rate&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

  &lt;/nav&gt;
&lt;/aside&gt;

&lt;p&gt;Let’s start off this blog with a post about &lt;a href=&quot;http://leagueoflegends.com/&quot;&gt;League of Legends&lt;/a&gt;. For those of you that are not aware of this game, it is one of the most popular games on the planet at the moment, with 67 million people playing every month, 27 million everyday and over 7.5 million concurrently during peak times, according to its developer, &lt;a href=&quot;http://www.riotgames.com/our-games&quot;&gt;Riot Games&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I have started playing again in the past few months after a hiatus of several months playing &lt;a href=&quot;http://us.battle.net/heroes/en/&quot;&gt;Heroes of the Storm&lt;/a&gt;, another game of the same genre. League of Legends (now abbreviated to &lt;strong&gt;LoL&lt;/strong&gt;) and Heroes of the Storm (&lt;strong&gt;HotS&lt;/strong&gt;) are both part of what is generally called the MOBA (for &lt;strong&gt;M&lt;/strong&gt;ultiplayer &lt;strong&gt;O&lt;/strong&gt;nline &lt;strong&gt;B&lt;/strong&gt;attle &lt;strong&gt;A&lt;/strong&gt;rena) genre, even if several terms have arisen to describe it (&lt;strong&gt;HotS&lt;/strong&gt; is marketed as a &lt;em&gt;team brawler&lt;/em&gt;, for example).&lt;/p&gt;

&lt;h2 id=&quot;mobas-a-brief-explanation&quot;&gt;MOBAs, a brief explanation&lt;/h2&gt;

&lt;h3 id=&quot;origin&quot;&gt;Origin&lt;/h3&gt;

&lt;p&gt;MOBAs are descendants of &lt;em&gt;Defense of the Ancients&lt;/em&gt;, or &lt;strong&gt;DotA&lt;/strong&gt;, a custom map for the Warcraft III game by Blizzard Entertainment, which is itself a descendant of &lt;em&gt;Aeon of Strike&lt;/em&gt;, a custom map for Starcraft, an earlier Blizzard game. The most popular games of this genre as of today are, in no particular order:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;League of Legends,&lt;/li&gt;
  &lt;li&gt;DotA 2,&lt;/li&gt;
  &lt;li&gt;Smite,&lt;/li&gt;
  &lt;li&gt;Heroes of the Storm&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;the-map&quot;&gt;The map&lt;/h3&gt;

&lt;p&gt;In &lt;strong&gt;LoL&lt;/strong&gt;, two teams of five people fight against each other on a map divided into three lanes, based on the original &lt;strong&gt;DotA&lt;/strong&gt; map. Each player controls a &lt;strong&gt;champion&lt;/strong&gt;, a character with a few abilities and each team must work together to destroy the enemy team’s Nexus, a big structure that lies at the heart of each base. The map looks like the following:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/r/2016-05-08-premades-lol/lolmap_annotated.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;On the bottom-left side of the map is the blue team’s base, with the Nexus, the big blue crystalline structure and on the opposite side, the red team’s base with the red Nexus. As I said, there are three lanes between the bases: top, mid and bottom lane. Every 30 seconds, a bunch of AI-controlled minions will spawn from each base and run toward the enemy base in each of these three lanes. Killing these minions give gold to the player that lands the killing blow and this gold allows a player to buy items to make them more powerful which means they can kill minions (or enemy champions) faster, withstand damage done to them more easily, be more mobile, etc. To reach the Nexus, players must progress through at least one lane by destroying structures along the way (several towers and a special building called an &lt;strong&gt;inhibitor&lt;/strong&gt;) in order to deal damage to the Nexus and eventually destroy it.&lt;/p&gt;

&lt;h3 id=&quot;gameplay&quot;&gt;Gameplay&lt;/h3&gt;

&lt;p&gt;As of today, there are &lt;a href=&quot;http://gameinfo.euw.leagueoflegends.com/en/game-info/champions/&quot;&gt;130 different champions&lt;/a&gt; in &lt;strong&gt;LoL&lt;/strong&gt; so I won’t go into details but suffice it to say that there are many different archetypes: &lt;a href=&quot;http://gameinfo.euw.leagueoflegends.com/en/game-info/champions/annie/&quot;&gt;burst mages&lt;/a&gt;, &lt;a href=&quot;http://gameinfo.euw.leagueoflegends.com/en/game-info/champions/leesin/&quot;&gt;blind martial arts experts&lt;/a&gt;, &lt;a href=&quot;http://gameinfo.euw.leagueoflegends.com/en/game-info/champions/jarvaniv/&quot;&gt;spear-wielding dunkmasters&lt;/a&gt;, &lt;a href=&quot;http://gameinfo.euw.leagueoflegends.com/en/game-info/champions/sejuani/&quot;&gt;pig-riding frost queens&lt;/a&gt; and many more. It’s &lt;a href=&quot;https://www.penny-arcade.com/comic/2011/06/10&quot;&gt;free&lt;/a&gt;, give it a try.&lt;/p&gt;

&lt;p&gt;As I said before, there are three lanes and even though there are many champions, the way they are split between the different lanes (3 lanes for 5 people) has not changed for a few years:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;the red line represents the top lane, which is a solo lane, only one player from each team goes there, usually a tanky champion (able to withstand more damage than the others),&lt;/li&gt;
  &lt;li&gt;the blue line represents the mid lane, also a solo lane, usually a mage or an assassin is sent there, their goal is to get as much gold as possible by killing minions (and possibly the enemy mid laner) to be able to inflict a lot of damage on enemy champions during fights,&lt;/li&gt;
  &lt;li&gt;the yellow line represents the bottom lane, which is the duo lane, two players from each team are sent there, usually a marksman - a physical ranged damage dealer - and a support, which is a champion that does not need much gold to be effective, thereby leaving all the gold from the minions to their marksman and focusing on utility by protecting them or setting up kills on the enemy team,&lt;/li&gt;
  &lt;li&gt;that leaves one player on each team who will go into the brown areas, called the &lt;em&gt;jungle&lt;/em&gt; and fight neutral monsters there, in order to gain gold and experience. They will come out periodically to &lt;strong&gt;gank&lt;/strong&gt; (abbreviation of &lt;em&gt;gang kill&lt;/em&gt;) enemy lanes: when they show up in a solo lane for example, it is a 2-for-1 advantage for the ganking side, with the purpose of killing the enemy champion in that lane.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I figure this gives enough context for the next part of this post.&lt;/p&gt;

&lt;h2 id=&quot;ranked-play&quot;&gt;Ranked play&lt;/h2&gt;

&lt;h3 id=&quot;context&quot;&gt;Context&lt;/h3&gt;

&lt;p&gt;All these MOBAs feature a ranked ladder, where each game you play helps determining your placement among all the other players. Most of the time, these systems are derived from the &lt;a href=&quot;https://en.wikipedia.org/wiki/Elo_rating_system&quot;&gt;ELO rating system&lt;/a&gt; but their actual implementation may vary because the ELO system has been designed for a 1-versus-1 game while MOBAs are usually 5-versus-5 team games.&lt;/p&gt;

&lt;p&gt;In the case of &lt;strong&gt;LoL&lt;/strong&gt;, it is even more confusing because there is no way to know your ELO rating (called &lt;strong&gt;hidden MMR&lt;/strong&gt; for Matchmaking Rating and because you can’t see it) and your “skill level” is represented in-game by a system of divisions ranging from Bronze to Challenger. Each division is further split into 5 tiers, from V to I.&lt;/p&gt;

&lt;p&gt;After 10 placement matches at the beginning of the season (seasons are one-year long), each player is placed into a division and a tier, for example Silver IV. Each game won in ranked play lets a player earn League Points (or LP) and each loss causes a loss of these LP. Once a hundred LP have been gathered, a player plays a best-of-two (or three if they were in a I tier) promotion match: if they win it, they advance to next tier (or the next division), else they lose a bunch of LP and have to return to 100LP in order to get to this promotion match again.&lt;/p&gt;

&lt;h3 id=&quot;rank-distribution&quot;&gt;Rank distribution&lt;/h3&gt;

&lt;p&gt;You can see on the &lt;a href=&quot;http://www.leagueofgraphs.com/rankings/rank-distribution&quot;&gt;LeagueOfGraphs website&lt;/a&gt; the distribution of the ranks amongst all tiers and divisions. As you can see, about &lt;strong&gt;90% of the population is Gold or lower&lt;/strong&gt;.&lt;/p&gt;

&lt;h3 id=&quot;dynamic-queue&quot;&gt;Dynamic queue&lt;/h3&gt;

&lt;p&gt;Until the 2016 season, the ranked ladder in &lt;strong&gt;LoL&lt;/strong&gt; was called &lt;strong&gt;solo queue&lt;/strong&gt; for the good reason that you could only queue for ranked matches as a solo player or at most with one other player, which is called a premade group or &lt;strong&gt;premade&lt;/strong&gt; for short. If your group contained three or four people, ranked matches were not available: the only option was to play normal games, i.e. games whose wins or losses had no impact on your ranked progression (they even have a different hidden MMR). If you had a group of five, there was a separater ladder, called &lt;strong&gt;Ranked Teams&lt;/strong&gt; with a separate ladder.&lt;/p&gt;

&lt;p&gt;Then, Riot Games &lt;a href=&quot;http://na.leagueoflegends.com/na/site/2016-season-update/ranked-improvements.html&quot;&gt;announced in November 2015&lt;/a&gt; that the solo/duo queue would be replaced with a dynamic queue where you could group up with any number of teammates for ranked matches. This announcement was met with a lot of skepticism from the players who argued that a player’s division would no longer be a reflection of his skill (it is still unclear that &lt;strong&gt;solo queue&lt;/strong&gt; actually WAS a reflection of a player’s skill but that is another debate) but that they could get &lt;em&gt;carried&lt;/em&gt; to a higher division by friends that are better at the game than them.&lt;/p&gt;

&lt;p&gt;Another argument against dynamic queue was that, as it favored same-size groups in opposing teams, at higher levels of play, it would be difficult to find two groups of say, 4 players, that play at the same time in order to match them against each other. This would cause the algorithm to find another group of 4 people with a lower rating in order to match it with the 4-man high-rated group so queues times are not too long (20 minutes queues are not unusual at this level of play) and this would make for a uninteresting game because of the skill imbalance.  We’re talking about top 0.1% here so this would affect a very low number of people but these people are the competitive players that rely partly on &lt;strong&gt;solo queue&lt;/strong&gt; to keep their mechanics fresh and who have a very large community outreach.&lt;/p&gt;

&lt;p&gt;This also came as a questionable decision considering the &lt;a href=&quot;http://us.battle.net/heroes/en/blog/19883523/party-size-changes-for-hero-league-9-2-2015&quot;&gt;September 2015 announcement&lt;/a&gt; by Blizzard that they were removing their dynamic queue system in &lt;strong&gt;HotS&lt;/strong&gt; in favor of a solo/duo queue system, citing reasons (emphasis mine) such as this one:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;When we look at the data for parties of three and four players in Hero League, &lt;strong&gt;we often see large skill gaps among party members&lt;/strong&gt;. This is fine for players in a party of four, for example, who have agreed to queue together despite any differences in skill that may exist. However, the matchmaker needs to complete the team by pulling in a fifth player who queued up alone, and did not necessarily want to play with teammates of varying skill levels.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;or that one:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;This can also create situations in which party members will discuss strategy with each other, but don’t end up communicating the game plan to their fifth teammate. On the other end of the spectrum, solo players may disagree with the party’s decisions, or show unwillingness to help the team. &lt;strong&gt;This can result in a friction for both sides if communication doesn’t improve&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;There has been a lot of vocal opposition, especially by players that have a very high rank (Challengers usually) and/or professional players (players are paid to compete in season-long championships in &lt;a href=&quot;http://www.lolesports.com/en_US/eu-lcs/eu_2016_spring/schedule/default&quot;&gt;Europe&lt;/a&gt;, &lt;a href=&quot;http://www.lolesports.com/en_US/na-lcs/na_2016_spring/schedule/default&quot;&gt;North America&lt;/a&gt;, &lt;a href=&quot;http://www.lolesports.com/en_US/lck/lck_2016_spring/schedule/default&quot;&gt;Korea&lt;/a&gt;, &lt;a href=&quot;http://www.lolesports.com/en_US/lpl-china/lpl_2016_spring/schedule/default&quot;&gt;China&lt;/a&gt; and &lt;a href=&quot;http://www.lolesports.com/en_US/&quot;&gt;others&lt;/a&gt; and there are several international tournaments during the season, like the &lt;a href=&quot;http://www.lolesports.com/en_US/all-star&quot;&gt;All-Star event&lt;/a&gt; or the &lt;a href=&quot;http://www.lolesports.com/en_US/articles/msi-2016-heading-shanghai&quot;&gt;Mid-Season Invitational&lt;/a&gt;, which culminates with the World Championship &lt;a href=&quot;https://en.wikipedia.org/wiki/2015_League_of_Legends_World_Championship&quot;&gt;which took place across Europe in 2015&lt;/a&gt;) :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;here is Meteos from C9, one of North America’s most successful teams, ranting about dynamic queue (&lt;strong&gt;NSFW, language&lt;/strong&gt;):&lt;/li&gt;
&lt;/ul&gt;

&lt;iframe id=&quot;meteosvid&quot; width=&quot;560&quot; height=&quot;315&quot; src=&quot;http://www.youtube.com/embed/CV9-kxD2XEM?rel=0&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;here are tweets from professional players, with screenshots of the end-game screen after games where they queued with several members of their team (the team they play competitively with) and got matched against solo players or other less organized groups:
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://twitter.com/DarshanU/status/687898439611322368&quot;&gt;Darshan from CLG&lt;/a&gt;,&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://twitter.com/Hai/status/687865696869457920&quot;&gt;Hai from C9&lt;/a&gt;,&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://twitter.com/Pobelter/status/687848986976194561&quot;&gt;Pobelter from IMT&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;All this circumstantial “evidence”, if we can even call it that, seems to indicate that dynamic queue indeed had a negative effect on the higher levels of play. But if you recall the &lt;a href=&quot;#rank-distribution&quot;&gt;ranked distributions&lt;/a&gt;, the vast majority of the player base is Gold or lower, so what about those players, have they been negatively affected ?&lt;/p&gt;

&lt;p&gt;There have been a couple discussions about this in the past couple weeks on the &lt;strong&gt;LoL&lt;/strong&gt; &lt;a href=&quot;https://www.reddit.com/r/leagueoflegends&quot;&gt;subreddit&lt;/a&gt;, like &lt;a href=&quot;https://www.reddit.com/r/leagueoflegends/comments/4dgv08/serious_is_it_possible_that_dynamic_queue_is/&quot;&gt;this one&lt;/a&gt; or &lt;a href=&quot;https://www.reddit.com/r/leagueoflegends/comments/4di0ut/serious_why_do_people_have_a_fundamental/&quot;&gt;that one&lt;/a&gt; but I have yet to see any analysis backed by data.&lt;/p&gt;

&lt;h2 id=&quot;impact-on-regular-players&quot;&gt;Impact on regular players&lt;/h2&gt;

&lt;p&gt;As I said in the introduction, I started playing again a few months ago after a hiatus of several months of playing &lt;strong&gt;HotS&lt;/strong&gt; with my group of friends. After a couple of weeks, I began to get interested in this question of the impact of dynamic queues on regular players. Fortunately, Riot Games provides a &lt;a href=&quot;https://developer.riotgames.com/&quot;&gt;very extensive API&lt;/a&gt; with a &lt;a href=&quot;https://developer.riotgames.com/api/methods&quot;&gt;full-fledged documentation&lt;/a&gt;, providing you have a level 5 &lt;strong&gt;LoL&lt;/strong&gt; account.&lt;/p&gt;

&lt;p&gt;Due to professional and personal constraints, I usually play only a couple of games during the week and more during the weekend if I don’t have anything planned so I am sitting at a mere Gold I for the moment (contrary to my Season 3 Diamond V days :sob:) but still, not too shabby. After playing some games with my friends, I started to wonder if I was actually profiting from playing with them or if I was better off playing solo (from a purely “ranking up” perspective of course).&lt;/p&gt;

&lt;h3 id=&quot;lolapi-package&quot;&gt;lolapi package&lt;/h3&gt;

&lt;p&gt;I started by wrapping the API in an &lt;a href=&quot;https://github.com/Tutuchan/lolapi&quot;&gt;R package&lt;/a&gt; to make things easier. It is at the moment a plain wrapper of all methods of the API (except two of them that do not interest me at the moment). The data is fetched using the &lt;a href=&quot;https://github.com/jeroenooms/jsonlite&quot;&gt;jsonlite&lt;/a&gt; package and the resulting JSON is returned with no further processing.&lt;/p&gt;

&lt;p&gt;If there is a need for a cleaner output or more methods, I can certainly update the package but this is good enough for me now.&lt;/p&gt;

&lt;h3 id=&quot;fetching-the-data&quot;&gt;Fetching the data&lt;/h3&gt;

&lt;p&gt;Let’s start by setting up some libraries:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;chartjs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dplyr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;formattable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;highcharter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jsonlite&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lolapi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;purrr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rvest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tidyr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;chart_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;300px&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Now we can get the data. The first step is to identify premades in a match. Riot used to provide this information in the API but &lt;a href=&quot;https://developer.riotgames.com/discussion/community-discussion/show/lQKLmhtQ&quot;&gt;decided to stop&lt;/a&gt; because it brought more harm than benefit. One way to identify people who play together is to get all matches for a given player and scrape this data to find names of players that are regularly on his team. This is a bit sketchy according to &lt;a href=&quot;https://developer.riotgames.com/discussion/community-discussion/show/RpHIoilO&quot;&gt;this post&lt;/a&gt; but I don’t plan on making this on a large scale so I guess I’m okay (Rito please, no &lt;a href=&quot;https://www.reddit.com/r/LyteSmites/&quot;&gt;LyteSmite&lt;/a&gt;). Actually I might do this at scale but I’ll anonymize all player names and ids in this scenario.&lt;/p&gt;

&lt;p&gt;The following function fetches all matches for a &lt;code class=&quot;highlighter-rouge&quot;&gt;summoner_name&lt;/code&gt;, basically the name of your character in game, and stores information about them in a &lt;em&gt;.rds&lt;/em&gt; file, this is good enough for the time being. If the file already exists, it loads it instead of fetching all the data again. This is because, woe is me, I only have a development key and I am limited to 10 requests every 10 seconds and 500 requests every 10 minutes by &lt;a href=&quot;https://developer.riotgames.com/docs/api-keys&quot;&gt;the API&lt;/a&gt;.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;get_match_results&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summoner_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;fName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;paste0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;../data/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;summoner_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;.rds&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file.exists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)){&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# Get the summoner id
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;summoner_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;summoner&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;summoner_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tolower&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summoner_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# Get list of ranked matches in dynamic queue
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;matches&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;match_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summoner_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;summoner_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                          &lt;span class=&quot;n&quot;&gt;ranked_queues&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;TEAM_BUILDER_DRAFT_RANKED_5x5&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;matches&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# Extract the match ids
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;match_ids&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;matches&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;matchId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unlist&lt;/span&gt;
    
    &lt;span class=&quot;c1&quot;&gt;# For each match id
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;match_results&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;match_ids&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;Sys.sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# To ensure I stay under the rate limit
&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;match_ids&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;paste0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Fetching match &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;match_ids&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;: &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;\n&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# Get the match data
&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lol_match&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# Get the participants id and name
&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;participants_identities&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;participantIdentities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;data_frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;participantId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                   &lt;span class=&quot;n&quot;&gt;summoner_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;player&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summonerId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                   &lt;span class=&quot;n&quot;&gt;summoner_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;player&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summonerName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)})&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;bind_rows&lt;/span&gt;
      
      &lt;span class=&quot;c1&quot;&gt;# Get the participants team and champion
&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;participants&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;participants&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;role&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timeline&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;role&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;NONE&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;SOLO&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timeline&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lane&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timeline&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;role&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;data_frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;participantId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                   &lt;span class=&quot;n&quot;&gt;team_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;teamId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                   &lt;span class=&quot;n&quot;&gt;champion_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;championId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                   &lt;span class=&quot;n&quot;&gt;role&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)})&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;bind_rows&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# Get the winning team
&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;teams&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;teams&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;data_frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;team_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;teamId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                   &lt;span class=&quot;n&quot;&gt;winner&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;winner&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)})&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;bind_rows&lt;/span&gt;
       
      &lt;span class=&quot;c1&quot;&gt;# Bind all this together
&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;participants_identities&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;inner_join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;participants&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;inner_join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;teams&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;team_id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;match_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;matchId&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.POSIXct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;matchCreation&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;origin&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;1970-01-01&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;match_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;everything&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;saveRDS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;match_results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;match_results&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;readRDS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;curated-data&quot;&gt;Curated data&lt;/h4&gt;

&lt;p&gt;Let’s have a look at this data for my account, &lt;strong&gt;Tutuchan&lt;/strong&gt;.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;current_summoner_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Tutuchan&quot;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;all_matches&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_match_results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;current_summoner_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;bind_rows&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This data.frame contains the 102 matches I have played since Dynamic queue started.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;case_when&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;DUO&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;DUO_SUPPORT&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;support&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;BOTTOM&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;DUO_CARRY&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;adc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tolower&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;all_matches&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;role&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;all_matches&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;identifying-premades&quot;&gt;Identifying premades&lt;/h4&gt;

&lt;p&gt;From this dataframe, we’ll extract the names of the summoners that have been in my team more than once and compute the proportion of matches I have played with them. Then we’ll use the  &lt;a href=&quot;http://github.com/tutuchan/chartjs/&quot;&gt;chartjs&lt;/a&gt; package to draw a bar chart of this data.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;dfPremades&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;all_matches&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;group_by&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;match_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;team_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;current_summoner_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;summoner_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;ungroup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summoner_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;current_summoner_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summoner_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;arrange&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;mutate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prop&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;all_matches&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;match_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;chartjs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chart_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;cjsBar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dfPremades&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summoner_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;cjsEditScale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gridLines&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;display&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;cjsAddScale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;y&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;linear&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;right&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;cjsSeries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dfPremades&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;proportion&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;cjsSeries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dfPremades&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;number of games&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scale&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;cjsLegend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;cjsTooltips&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;callbacks&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;htmlwidgets&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;JS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;function(tooltipItem, data) {
  var datasetLabel = data.datasets[tooltipItem.datasetIndex].label || &#39;&#39;;
  var res = datasetLabel + &#39;: &#39; + tooltipItem.yLabel;
  if (datasetLabel == &#39;proportion&#39;)  res = res + &#39;%&#39;
  return res;}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;!--html_preserve--&gt;
&lt;div id=&quot;htmlwidget-9518-container&quot; class=&quot;htmlwidget_container&quot;&gt;
&lt;canvas id=&quot;htmlwidget-9518&quot; class=&quot;chartjs html-widget&quot; style=&quot;width:504px;height:300px;&quot; width=&quot;504&quot; height=&quot;300px&quot;&gt;&lt;/canvas&gt;
&lt;/div&gt;
&lt;script type=&quot;application/json&quot; data-for=&quot;htmlwidget-9518&quot;&gt;{&quot;x&quot;:{&quot;options&quot;:{&quot;responsive&quot;:true,&quot;maintainAspectRatio&quot;:true,&quot;legend&quot;:{&quot;display&quot;:true},&quot;tooltips&quot;:{&quot;callbacks&quot;:{&quot;label&quot;:&quot;function(tooltipItem, data) {\n  var datasetLabel = data.datasets[tooltipItem.datasetIndex].label || &#39;&#39;;\n  var res = datasetLabel + &#39;: &#39; + tooltipItem.yLabel;\n  if (datasetLabel == &#39;proportion&#39;)  res = res + &#39;%&#39;\n  return res;}&quot;}}},&quot;palette&quot;:&quot;Paired&quot;,&quot;debug&quot;:false,&quot;type&quot;:&quot;bar&quot;,&quot;data&quot;:{&quot;labels&quot;:[&quot;Zedlol&quot;,&quot;Teramur&quot;,&quot;Blazing Flamberg&quot;,&quot;TehJester&quot;,&quot;HappyFTN&quot;,&quot;Luciha&quot;,&quot;Flarus&quot;,&quot;Dingouze&quot;,&quot;Legolino&quot;,&quot;MOAR LUCK PLS&quot;,&quot;83Petrus&quot;,&quot;Idstein&quot;,&quot;Im Nasos&quot;,&quot;LoCK Nightmare&quot;,&quot;WRT Daddy&quot;],&quot;datasets&quot;:[{&quot;data&quot;:[38.24,31.37,27.45,20.59,11.76,8.82,4.9,2.94,2.94,2.94,1.96,1.96,1.96,1.96,1.96],&quot;borderColor&quot;:&quot;#000000&quot;,&quot;backgroundColor&quot;:&quot;#A6CEE3&quot;,&quot;hoverBorderColor&quot;:&quot;rgba(255,255,255,1)&quot;,&quot;hoverBackgroundColor&quot;:&quot;#1F78B4&quot;,&quot;label&quot;:&quot;proportion&quot;,&quot;type&quot;:&quot;bar&quot;},{&quot;data&quot;:[39,32,28,21,12,9,5,3,3,3,2,2,2,2,2],&quot;borderColor&quot;:&quot;#000000&quot;,&quot;backgroundColor&quot;:&quot;#B2DF8A&quot;,&quot;hoverBorderColor&quot;:&quot;rgba(255,255,255,1)&quot;,&quot;hoverBackgroundColor&quot;:&quot;#33A02C&quot;,&quot;label&quot;:&quot;number of games&quot;,&quot;type&quot;:&quot;bar&quot;,&quot;yAxisID&quot;:&quot;y-axis-1&quot;}]},&quot;scales&quot;:{&quot;x&quot;:[{&quot;gridLines&quot;:{&quot;display&quot;:false},&quot;type&quot;:&quot;category&quot;,&quot;stacked&quot;:false}],&quot;y&quot;:[{&quot;type&quot;:&quot;linear&quot;,&quot;stacked&quot;:false},{&quot;type&quot;:&quot;linear&quot;,&quot;position&quot;:&quot;right&quot;}]}},&quot;evals&quot;:[&quot;options.tooltips.callbacks.label&quot;],&quot;jsHooks&quot;:[]}&lt;/script&gt;
&lt;!--/html_preserve--&gt;

&lt;p&gt;I actually know most of these people and they &lt;em&gt;ARE&lt;/em&gt; people I have played with in dynamic queue so it seems to be working pretty well. Some of them are people I got matched with several times without actually queuing with them so let’s filter this a bit more by only selecting people I have played more than &lt;strong&gt;twice&lt;/strong&gt;.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;dfPremades&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;all_matches&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;group_by&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;match_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;team_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;current_summoner_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;summoner_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;ungroup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summoner_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;current_summoner_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summoner_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;arrange&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;mutate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prop&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;all_matches&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;match_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;chartjs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chart_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;cjsBar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dfPremades&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summoner_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;cjsEditScale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gridLines&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;display&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;cjsAddScale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;y&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;linear&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;right&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;cjsSeries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dfPremades&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;proportion&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;cjsSeries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dfPremades&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;number of games&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scale&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;cjsLegend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;cjsTooltips&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;callbacks&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;htmlwidgets&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;JS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;function(tooltipItem, data) {
  var datasetLabel = data.datasets[tooltipItem.datasetIndex].label || &#39;&#39;;
  var res = datasetLabel + &#39;: &#39; + tooltipItem.yLabel;
  if (datasetLabel == &#39;proportion&#39;)  res = res + &#39;%&#39;
  return res;}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;!--html_preserve--&gt;
&lt;div id=&quot;htmlwidget-6633-container&quot; class=&quot;htmlwidget_container&quot;&gt;
&lt;canvas id=&quot;htmlwidget-6633&quot; class=&quot;chartjs html-widget&quot; style=&quot;width:504px;height:300px;&quot; width=&quot;504&quot; height=&quot;300px&quot;&gt;&lt;/canvas&gt;
&lt;/div&gt;
&lt;script type=&quot;application/json&quot; data-for=&quot;htmlwidget-6633&quot;&gt;{&quot;x&quot;:{&quot;options&quot;:{&quot;responsive&quot;:true,&quot;maintainAspectRatio&quot;:true,&quot;legend&quot;:{&quot;display&quot;:true},&quot;tooltips&quot;:{&quot;callbacks&quot;:{&quot;label&quot;:&quot;function(tooltipItem, data) {\n  var datasetLabel = data.datasets[tooltipItem.datasetIndex].label || &#39;&#39;;\n  var res = datasetLabel + &#39;: &#39; + tooltipItem.yLabel;\n  if (datasetLabel == &#39;proportion&#39;)  res = res + &#39;%&#39;\n  return res;}&quot;}}},&quot;palette&quot;:&quot;Paired&quot;,&quot;debug&quot;:false,&quot;type&quot;:&quot;bar&quot;,&quot;data&quot;:{&quot;labels&quot;:[&quot;Zedlol&quot;,&quot;Teramur&quot;,&quot;Blazing Flamberg&quot;,&quot;TehJester&quot;,&quot;HappyFTN&quot;,&quot;Luciha&quot;,&quot;Flarus&quot;,&quot;Dingouze&quot;,&quot;Legolino&quot;,&quot;MOAR LUCK PLS&quot;],&quot;datasets&quot;:[{&quot;data&quot;:[38.24,31.37,27.45,20.59,11.76,8.82,4.9,2.94,2.94,2.94],&quot;borderColor&quot;:&quot;#000000&quot;,&quot;backgroundColor&quot;:&quot;#A6CEE3&quot;,&quot;hoverBorderColor&quot;:&quot;rgba(255,255,255,1)&quot;,&quot;hoverBackgroundColor&quot;:&quot;#1F78B4&quot;,&quot;label&quot;:&quot;proportion&quot;,&quot;type&quot;:&quot;bar&quot;},{&quot;data&quot;:[39,32,28,21,12,9,5,3,3,3],&quot;borderColor&quot;:&quot;#000000&quot;,&quot;backgroundColor&quot;:&quot;#B2DF8A&quot;,&quot;hoverBorderColor&quot;:&quot;rgba(255,255,255,1)&quot;,&quot;hoverBackgroundColor&quot;:&quot;#33A02C&quot;,&quot;label&quot;:&quot;number of games&quot;,&quot;type&quot;:&quot;bar&quot;,&quot;yAxisID&quot;:&quot;y-axis-1&quot;}]},&quot;scales&quot;:{&quot;x&quot;:[{&quot;gridLines&quot;:{&quot;display&quot;:false},&quot;type&quot;:&quot;category&quot;,&quot;stacked&quot;:false}],&quot;y&quot;:[{&quot;type&quot;:&quot;linear&quot;,&quot;stacked&quot;:false},{&quot;type&quot;:&quot;linear&quot;,&quot;position&quot;:&quot;right&quot;}]}},&quot;evals&quot;:[&quot;options.tooltips.callbacks.label&quot;],&quot;jsHooks&quot;:[]}&lt;/script&gt;
&lt;!--/html_preserve--&gt;

&lt;h4 id=&quot;distribution-of-the-number-of-premades&quot;&gt;Distribution of the number of premades&lt;/h4&gt;

&lt;p&gt;Next, let’s take a look at the number of friends I usually play with.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;dfSoloVsPremades&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;all_matches&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;group_by&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;match_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;summarise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;premade_number&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summoner_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dfPremades&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summoner_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;win&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;winner&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summoner_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;current_summoner_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;group_by&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;premade_number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;summarise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n_wins&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;win&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n_games&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;prop_win&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n_wins&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n_games&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;ungroup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;mutate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prop_games&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n_games&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n_games&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;



&lt;span class=&quot;n&quot;&gt;chartjs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chart_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;cjsBar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dfSoloVsPremades&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;premade_number&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;cjsSeries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dfSoloVsPremades&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prop_games&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;cjsEditScale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gridLines&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;display&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;cjsEditScale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;y&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ticks&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;beginAtZero&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;cjsTooltips&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;callbacks&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;htmlwidgets&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;JS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;function(tooltipItem, data) { 
  var datasetLabel = data.datasets[tooltipItem.datasetIndex].label || &#39;&#39;;
  return tooltipItem.yLabel + &#39;%&#39;;}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;cjsTitle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;percentage of games played by group size&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;!--html_preserve--&gt;
&lt;div id=&quot;htmlwidget-3260-container&quot; class=&quot;htmlwidget_container&quot;&gt;
&lt;canvas id=&quot;htmlwidget-3260&quot; class=&quot;chartjs html-widget&quot; style=&quot;width:504px;height:300px;&quot; width=&quot;504&quot; height=&quot;300px&quot;&gt;&lt;/canvas&gt;
&lt;/div&gt;
&lt;script type=&quot;application/json&quot; data-for=&quot;htmlwidget-3260&quot;&gt;{&quot;x&quot;:{&quot;options&quot;:{&quot;responsive&quot;:true,&quot;maintainAspectRatio&quot;:true,&quot;legend&quot;:{&quot;display&quot;:false},&quot;tooltips&quot;:{&quot;callbacks&quot;:{&quot;label&quot;:&quot;function(tooltipItem, data) { \n  var datasetLabel = data.datasets[tooltipItem.datasetIndex].label || &#39;&#39;;\n  return tooltipItem.yLabel + &#39;%&#39;;}&quot;}},&quot;title&quot;:{&quot;display&quot;:true,&quot;text&quot;:&quot;percentage of games played by group size&quot;}},&quot;palette&quot;:&quot;Paired&quot;,&quot;debug&quot;:false,&quot;type&quot;:&quot;bar&quot;,&quot;data&quot;:{&quot;labels&quot;:[1,2,3,4,5],&quot;datasets&quot;:[{&quot;data&quot;:[39.22,9.8,21.57,18.63,10.78],&quot;borderColor&quot;:&quot;#000000&quot;,&quot;backgroundColor&quot;:&quot;#A6CEE3&quot;,&quot;hoverBorderColor&quot;:&quot;rgba(255,255,255,1)&quot;,&quot;hoverBackgroundColor&quot;:&quot;#1F78B4&quot;,&quot;type&quot;:&quot;bar&quot;}]},&quot;scales&quot;:{&quot;x&quot;:[{&quot;gridLines&quot;:{&quot;display&quot;:false},&quot;type&quot;:&quot;category&quot;,&quot;stacked&quot;:false}],&quot;y&quot;:[{&quot;ticks&quot;:{&quot;beginAtZero&quot;:true},&quot;type&quot;:&quot;linear&quot;,&quot;stacked&quot;:false}]}},&quot;evals&quot;:[&quot;options.tooltips.callbacks.label&quot;],&quot;jsHooks&quot;:[]}&lt;/script&gt;
&lt;!--/html_preserve--&gt;

&lt;p&gt;&lt;strong&gt;Almost 60% of my games have been played with one or more friends&lt;/strong&gt;. If we consider duo queue as part of the original solo queue, about 50% of my ranked games could not have been played under this scheme. But does playing with friends actually make me win more ?&lt;/p&gt;

&lt;h4 id=&quot;win-percentage-with-premades&quot;&gt;Win percentage with premades&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;chartjs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chart_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;cjsBar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dfSoloVsPremades&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;premade_number&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;cjsSeries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dfSoloVsPremades&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prop_win&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;cjsEditScale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gridLines&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;display&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;cjsEditScale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;y&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ticks&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;beginAtZero&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;cjsTooltips&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;callbacks&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;htmlwidgets&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;JS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;function(tooltipItem, data) { 
  var datasetLabel = data.datasets[tooltipItem.datasetIndex].label || &#39;&#39;;
  return tooltipItem.yLabel + &#39;%&#39;;}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;cjsTitle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;win percentage by group size&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;!--html_preserve--&gt;
&lt;div id=&quot;htmlwidget-8174-container&quot; class=&quot;htmlwidget_container&quot;&gt;
&lt;canvas id=&quot;htmlwidget-8174&quot; class=&quot;chartjs html-widget&quot; style=&quot;width:504px;height:300px;&quot; width=&quot;504&quot; height=&quot;300px&quot;&gt;&lt;/canvas&gt;
&lt;/div&gt;
&lt;script type=&quot;application/json&quot; data-for=&quot;htmlwidget-8174&quot;&gt;{&quot;x&quot;:{&quot;options&quot;:{&quot;responsive&quot;:true,&quot;maintainAspectRatio&quot;:true,&quot;legend&quot;:{&quot;display&quot;:false},&quot;tooltips&quot;:{&quot;callbacks&quot;:{&quot;label&quot;:&quot;function(tooltipItem, data) { \n  var datasetLabel = data.datasets[tooltipItem.datasetIndex].label || &#39;&#39;;\n  return tooltipItem.yLabel + &#39;%&#39;;}&quot;}},&quot;title&quot;:{&quot;display&quot;:true,&quot;text&quot;:&quot;win percentage by group size&quot;}},&quot;palette&quot;:&quot;Paired&quot;,&quot;debug&quot;:false,&quot;type&quot;:&quot;bar&quot;,&quot;data&quot;:{&quot;labels&quot;:[1,2,3,4,5],&quot;datasets&quot;:[{&quot;data&quot;:[57.5,60,54.55,52.63,45.45],&quot;borderColor&quot;:&quot;#000000&quot;,&quot;backgroundColor&quot;:&quot;#A6CEE3&quot;,&quot;hoverBorderColor&quot;:&quot;rgba(255,255,255,1)&quot;,&quot;hoverBackgroundColor&quot;:&quot;#1F78B4&quot;,&quot;type&quot;:&quot;bar&quot;}]},&quot;scales&quot;:{&quot;x&quot;:[{&quot;gridLines&quot;:{&quot;display&quot;:false},&quot;type&quot;:&quot;category&quot;,&quot;stacked&quot;:false}],&quot;y&quot;:[{&quot;ticks&quot;:{&quot;beginAtZero&quot;:true},&quot;type&quot;:&quot;linear&quot;,&quot;stacked&quot;:false}]}},&quot;evals&quot;:[&quot;options.tooltips.callbacks.label&quot;],&quot;jsHooks&quot;:[]}&lt;/script&gt;
&lt;!--/html_preserve--&gt;

&lt;p&gt;It appears that the more friends I play with, the less I win (except for the duo case). Arguably, the sample size is small but still, that was not what I was expecting at all. When I’m playing with friends, we usually are on &lt;a href=&quot;https://github.com/mumble-voip/mumble&quot;&gt;Mumble&lt;/a&gt; in order to coordinate better so this &lt;em&gt;should&lt;/em&gt; technically give us an edge, except if the n-man premade opposite us is also on VoIP.&lt;/p&gt;

&lt;p&gt;This does not happen to be the case but maybe the reason is not that me or any particular friend of mine actually sucks at the game. I happen to play only two of the five roles that I presented at the beginning and I play each of those about the same amount : these roles are &lt;strong&gt;jungle&lt;/strong&gt; and &lt;strong&gt;support&lt;/strong&gt;. But do I play them the same amount whatever our group number is ?&lt;/p&gt;

&lt;h4 id=&quot;role-repartition-and-win-rate&quot;&gt;Role repartition and win rate&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;dfSoloVsPremadesByRole&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;all_matches&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;group_by&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;match_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;summarise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;premade_number&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summoner_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dfPremades&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summoner_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;win&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;winner&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summoner_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;current_summoner_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;role&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summoner_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;current_summoner_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;group_by&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;premade_number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;summarise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prop_win&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;win&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n_games&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;ungroup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;dfSoloVsPremadesByRoleWR&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dfSoloVsPremadesByRole&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n_games&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;tidyr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;spread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;prop_win&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;dfSoloVsPremadesByRoleNG&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dfSoloVsPremadesByRole&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prop_win&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;tidyr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;spread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n_games&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;chartjs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chart_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;cjsBar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dfSoloVsPremadesByRoleWR&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;premade_number&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;cjsAddScale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;y&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;linear&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;right&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;cjsSeries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dfSoloVsPremadesByRoleWR&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jungle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;win rate - jungle&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;cjsSeries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dfSoloVsPremadesByRoleWR&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;support&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;win rate - support&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;cjsSeries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dfSoloVsPremadesByRoleNG&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jungle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;games - jungle&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scale&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;cjsSeries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dfSoloVsPremadesByRoleNG&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;support&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;games - support&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scale&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;cjsEditScale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gridLines&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;display&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;cjsEditScale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;y&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ticks&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;beginAtZero&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;cjsEditScale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;y&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ticks&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;beginAtZero&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
               &lt;span class=&quot;n&quot;&gt;gridLines&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;display&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;cjsTitle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;win rate by group size and role&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;cjsLegend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;!--html_preserve--&gt;
&lt;div id=&quot;htmlwidget-5443-container&quot; class=&quot;htmlwidget_container&quot;&gt;
&lt;canvas id=&quot;htmlwidget-5443&quot; class=&quot;chartjs html-widget&quot; style=&quot;width:504px;height:300px;&quot; width=&quot;504&quot; height=&quot;300px&quot;&gt;&lt;/canvas&gt;
&lt;/div&gt;
&lt;script type=&quot;application/json&quot; data-for=&quot;htmlwidget-5443&quot;&gt;{&quot;x&quot;:{&quot;options&quot;:{&quot;responsive&quot;:true,&quot;maintainAspectRatio&quot;:true,&quot;legend&quot;:{&quot;display&quot;:true},&quot;title&quot;:{&quot;display&quot;:true,&quot;text&quot;:&quot;win rate by group size and role&quot;}},&quot;palette&quot;:&quot;Paired&quot;,&quot;debug&quot;:false,&quot;type&quot;:&quot;bar&quot;,&quot;data&quot;:{&quot;labels&quot;:[1,2,3,4,5],&quot;datasets&quot;:[{&quot;data&quot;:[33.33,33.33,57.14,53.33,50],&quot;borderColor&quot;:&quot;#000000&quot;,&quot;backgroundColor&quot;:&quot;#A6CEE3&quot;,&quot;hoverBorderColor&quot;:&quot;rgba(255,255,255,1)&quot;,&quot;hoverBackgroundColor&quot;:&quot;#1F78B4&quot;,&quot;label&quot;:&quot;win rate - jungle&quot;,&quot;type&quot;:&quot;bar&quot;},{&quot;data&quot;:[61.76,80,50,66.67,33.33],&quot;borderColor&quot;:&quot;#000000&quot;,&quot;backgroundColor&quot;:&quot;#B2DF8A&quot;,&quot;hoverBorderColor&quot;:&quot;rgba(255,255,255,1)&quot;,&quot;hoverBackgroundColor&quot;:&quot;#33A02C&quot;,&quot;label&quot;:&quot;win rate - support&quot;,&quot;type&quot;:&quot;bar&quot;},{&quot;data&quot;:[6,3,14,15,8],&quot;borderColor&quot;:&quot;#000000&quot;,&quot;backgroundColor&quot;:&quot;#FB9A99&quot;,&quot;hoverBorderColor&quot;:&quot;rgba(255,255,255,1)&quot;,&quot;hoverBackgroundColor&quot;:&quot;#E31A1C&quot;,&quot;label&quot;:&quot;games - jungle&quot;,&quot;type&quot;:&quot;bar&quot;,&quot;yAxisID&quot;:&quot;y-axis-1&quot;},{&quot;data&quot;:[34,5,8,3,3],&quot;borderColor&quot;:&quot;#000000&quot;,&quot;backgroundColor&quot;:&quot;#FDBF6F&quot;,&quot;hoverBorderColor&quot;:&quot;rgba(255,255,255,1)&quot;,&quot;hoverBackgroundColor&quot;:&quot;#FF7F00&quot;,&quot;label&quot;:&quot;games - support&quot;,&quot;type&quot;:&quot;bar&quot;,&quot;yAxisID&quot;:&quot;y-axis-1&quot;}]},&quot;scales&quot;:{&quot;x&quot;:[{&quot;gridLines&quot;:{&quot;display&quot;:false},&quot;type&quot;:&quot;category&quot;,&quot;stacked&quot;:false}],&quot;y&quot;:[{&quot;ticks&quot;:{&quot;beginAtZero&quot;:true},&quot;type&quot;:&quot;linear&quot;,&quot;stacked&quot;:false},{&quot;ticks&quot;:{&quot;beginAtZero&quot;:true},&quot;gridLines&quot;:{&quot;display&quot;:false},&quot;type&quot;:&quot;linear&quot;,&quot;position&quot;:&quot;right&quot;}]}},&quot;evals&quot;:[],&quot;jsHooks&quot;:[]}&lt;/script&gt;
&lt;!--/html_preserve--&gt;

&lt;p&gt;Well, it’s right there: when playing solo or duo, I play much more as a support than a jungler with a win rate that is much higher. When in a group of 3 or more, I usually play jungle more and my win rate is not that high.&lt;/p&gt;

&lt;p&gt;My playing support more when solo or duo is not that surprising: when queuing for a ranked game, you can select two roles you want to play and the matchmaking algorithm finds a match for you where you get to play one of these roles (everyone in the match gets to play of their two selected roles). However, support players are much scarcer than any of the other roles as illustrated by &lt;a href=&quot;https://www.reddit.com/r/leagueoflegends/comments/49tr9l/i_queued_for_100_normal_draft_games_in_the_past_2/&quot;&gt;this reddit post&lt;/a&gt; so when selecting jungle and support, I tend to play a lot of support games.&lt;/p&gt;

&lt;p&gt;When in a group of friends, we usually take turns playing the support role as several of us enjoy it and not many of us actually enjoy playing jungle so I’m often tasked with playing it.&lt;/p&gt;

&lt;p&gt;This concludes this first blog post, I’d love to hear your feedback if you have any.&lt;/p&gt;</content><author><name>Pierre Formont</name><email>pierre.formont@gmail.com</email></author><category term="games" /><category term="leagueoflegends" /><summary>Let&#39;s start off this blog with a post about League of Legends. For those of you that are not aware of this game, it is one of the most popular games on the planet at the moment, with 67 million people playing every month, 27 million everyday and over 7.5 million concurrently during peak times, according to its developer, Riot Games.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="../images/r/2016-05-08-premades-lol/post_img.png" /></entry></feed>
